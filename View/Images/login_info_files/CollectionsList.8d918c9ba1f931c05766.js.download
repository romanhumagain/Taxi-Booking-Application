(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1216:function(t,e,o){"use strict";o(936)},1217:function(t,e,o){var n=o(8)((function(i){return i[1]}));n.push([t.i,".collection-card-container[data-v-2b365e26]{background:transparent;height:100%;min-width:192px}",""]),n.locals={},t.exports=n},1218:function(t,e,o){"use strict";o(937)},1219:function(t,e,o){var n=o(8)((function(i){return i[1]}));n.push([t.i,'.collection__card[data-v-0289935a]{--collection-card-min-height:84px;--collection-card-border-radius:8px;background:var(--c-white);border-radius:var(--collection-card-border-radius);box-shadow:0 4px 8px -2px rgba(96,96,96,.15),0 0 1px 0 rgba(96,96,96,.31);display:flex;flex-flow:column nowrap;height:var(--collection-card-min-height);position:relative;transition:border 0s}.collection__card[data-v-0289935a]:hover{box-shadow:0 8px 16px -4px rgba(96,96,96,.15),0 0 1px 0 rgba(96,96,96,.31)}.collection__card[data-v-0289935a]:active{box-shadow:0 12px 24px -6px rgba(96,96,96,.15),0 0 1px 0 rgba(96,96,96,.31)}.collection__card_active[data-v-0289935a]{pointer-events:none}.collection__card_active[data-v-0289935a]:after{border:2px solid #1fb141;border-radius:10px;bottom:-4px;content:"";display:block;left:-4px;position:absolute;right:-4px;top:-4px;z-index:-1}',""]),n.locals={},t.exports=n},1220:function(t,e,o){"use strict";o(938)},1221:function(t,e,o){var n=o(8)((function(i){return i[1]}));n.push([t.i,".dnd-action[data-v-c60bb0c2]{background:#f6f9f7;border:1px dashed var(--c-transparent-black_800);border-radius:4px;flex-flow:column nowrap;gap:6px;height:100%;width:100%}.dnd-action[data-v-c60bb0c2],.icon-container[data-v-c60bb0c2]{align-items:center;display:flex;justify-content:center}.icon-container[data-v-c60bb0c2]{--size:24px;height:var(--size);width:var(--size)}span[data-v-c60bb0c2]{color:var(--c-black_800);font:var(--font-semibold) var(--font-sm)/20px var(--font-family-legacy);font:var(--collection-card-title,var(--collection-card-title-weight,var(--font-semibold)) var(--collection-card-title-size,var(--font-sm))/var(--collection-card-title-line-height,20px) var(--collection-card-title-family,var(--font-family-legacy)))}",""]),n.locals={},t.exports=n},1222:function(t,e,o){"use strict";o(939)},1223:function(t,e,o){var n=o(8)((function(i){return i[1]}));n.push([t.i,".collection-dnd-wrapper[data-v-6d0f1119]{position:relative}.collection-dnd-wrapper .dnd-container[data-v-6d0f1119]{border-radius:var(--collection-card-border-radius);min-height:auto;min-height:var(--collection-card-min-height,auto);pointer-events:none}.collection-dnd-wrapper .progress-bar[data-v-6d0f1119]{background-color:#e7f9eb;bottom:0;left:0;pointer-events:none;position:absolute;top:0;z-index:0}.collection-info-wrapper[data-v-6d0f1119]{height:100%;position:relative;z-index:1}",""]),n.locals={},t.exports=n},1224:function(t,e,o){"use strict";o(940)},1225:function(t,e,o){var n=o(8)((function(i){return i[1]}));n.push([t.i,".icon-add-notification[data-v-f012b784]{--size:30px;align-items:center;background:var(--c-red_500);border:2px solid #fff;border-radius:50%;color:var(--c-white);display:flex;font:var(--font-semibold) var(--font-xs)/14px var(--font-family-legacy);font:var(--icon-add-notification,var(--icon-add-notification-weight,var(--font-semibold)) var(--icon-add-notification-size,var(--font-xs))/var(--icon-add-notification-line-height,14px) var(--icon-add-notification-family,var(--font-family-legacy)));height:var(--size);justify-content:center;padding:5px;width:var(--size)}",""]),n.locals={},t.exports=n},1226:function(t,e,o){"use strict";o(941)},1227:function(t,e,o){var n=o(8)((function(i){return i[1]}));n.push([t.i,'.collection-info[data-v-3bd81d66]{--collection-card-padding:16px 16px 12px 16px;cursor:pointer;flex-flow:column nowrap;gap:12px;height:100%;overflow:hidden;padding:var(--collection-card-padding);transition:padding 0s,height 0s;width:100%}.collection-info[data-v-3bd81d66],.info[data-v-3bd81d66]{display:flex;margin-top:auto}.info[data-v-3bd81d66]{align-items:center;font:var(--font-semibold) var(--font-base)/16px var(--font-family-legacy);font:var(--collection-card-title,var(--collection-card-title-weight,var(--font-semibold)) var(--collection-card-title-size,var(--font-base))/var(--collection-card-title-line-height,16px) var(--collection-card-title-family,var(--font-family-legacy)));justify-content:space-between;min-height:20px;overflow:visible;position:relative;z-index:998}.info[data-v-3bd81d66],.name[data-v-3bd81d66]{color:var(--c-black_900)}.name[data-v-3bd81d66]{font-size:14px;font-style:normal;font-weight:600;letter-spacing:-.006em;line-height:20px}span.name[data-v-3bd81d66]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}input.name[data-v-3bd81d66]{background:none;border:none;border-radius:0;height:20px;outline:none;padding:0;width:100%}input.name[data-v-3bd81d66]::placeholder{color:var(--c-transparent-black_400)}.icons-count[data-v-3bd81d66]{color:var(--c-transparent-black_500);font-size:14px;font-style:normal;font-weight:400;letter-spacing:-.006em;line-height:20px;text-align:right}.header-right[data-v-3bd81d66]{align-items:center;display:flex}.icons[data-v-3bd81d66]{display:flex;flex-flow:row nowrap;gap:14px;overflow:hidden;position:relative}@media(max-width:530px){.icons[data-v-3bd81d66]:before{background-image:linear-gradient(to right,transparent,var(--c-white));content:"";display:block;height:100%;position:absolute;right:0;top:0;width:6px;z-index:10}}.add-notification[data-v-3bd81d66]{margin-left:-5px;margin-top:-25px;position:fixed;z-index:999}.add-enter[data-v-3bd81d66]{transform:scale(0)}.add-enter-to[data-v-3bd81d66]{transform:scale(1)}.add-enter-active[data-v-3bd81d66]{transition:all 1s ease}.add-leave[data-v-3bd81d66]{opacity:1}.add-leave-to[data-v-3bd81d66]{opacity:0;transform:translateY(-40px)}.add-leave-active[data-v-3bd81d66]{transition-delay:0s,.3s;transition-duration:.7s,.3s;transition-property:transform,opacity;transition-timing-function:ease}',""]),n.locals={},t.exports=n},1228:function(t,e,o){"use strict";o(942)},1229:function(t,e,o){var n=o(8)((function(i){return i[1]}));n.push([t.i,".plus-icon[data-v-6334176e]{height:16px;margin-right:6px;width:16px}.create-collection[data-v-6334176e]{height:100%;min-height:32px;padding:4px 8px;width:100%}",""]),n.locals={},t.exports=n},1230:function(t,e,o){"use strict";o(943)},1231:function(t,e,o){var n=o(8)((function(i){return i[1]}));n.push([t.i,".collection-dnd-wrapper .dnd-container[data-v-3f476778]{pointer-events:none}",""]),n.locals={},t.exports=n},1232:function(t,e,o){"use strict";o(944)},1233:function(t,e,o){var n=o(8)((function(i){return i[1]}));n.push([t.i,".tutorial-card[data-v-cb1ccc16]{--collection-card-min-height:88px;--collection-card-border-radius:8px;align-items:center;border:1px solid var(--c-transparent-black_200);border-radius:var(--collection-card-border-radius);color:var(--c-transparent-black_500);display:flex;flex-flow:column nowrap;font-size:12px;font-style:normal;font-weight:400;gap:8px;justify-content:center;line-height:16px;min-height:var(--collection-card-min-height);padding:16px;text-align:center}.tutorial-card__icon[data-v-cb1ccc16]{height:16px;width:16px}.tutorial-card__icon_plus[data-v-cb1ccc16]{opacity:.4}",""]),n.locals={},t.exports=n},1234:function(t,e,o){"use strict";o(945)},1235:function(t,e,o){var n=o(8)((function(i){return i[1]}));n.push([t.i,".undo-toast[data-v-c2d3db4a]{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;z-index:1500}@media(max-width:768px){.undo-toast[data-v-c2d3db4a]{left:20px;right:98px}}.undo-toast__content[data-v-c2d3db4a]{align-items:center;background:var(--c-yellow_300);border-radius:4px;display:flex;margin-bottom:20px;position:relative}.undo-toast__icon[data-v-c2d3db4a]{height:24px;margin:16px;width:24px}@media(max-width:768px){.undo-toast__icon[data-v-c2d3db4a]{margin:12px 8px 12px 12px}}.undo-toast__text[data-v-c2d3db4a]{color:var(--c-black_900);font-size:14px;font-style:normal;font-weight:600;letter-spacing:-.006em;line-height:20px;margin:18px 0}@media(max-width:768px){.undo-toast__text[data-v-c2d3db4a]{font-size:12px;line-height:16px;margin:16px 0}}.undo-toast__btn[data-v-c2d3db4a]{--button-padding-small:18px 16px;--button-height-small:100%;--button-background-color-hover:transparent;--button-background-color-active:transparent;--button-color:var(--c-transparent-black_500);display:flex;flex-flow:column nowrap;font-size:14px;font-style:normal;font-weight:600;justify-content:center;letter-spacing:-.006em;line-height:20px}@media(max-width:768px){.undo-toast__btn[data-v-c2d3db4a]{--button-padding-small:16px 12px 16px 8px;font-size:12px;line-height:16px}}.undo-toast__btn[data-v-c2d3db4a]:hover{--button-color:var(--c-transparent-black_700)}.undo-toast__btn[data-v-c2d3db4a]:active{--button-color:var(--c-transparent-black_900)}.undo-toast__progress-bar[data-v-c2d3db4a]{border-radius:0 0 4px 4px;bottom:0;height:2px;left:0;overflow-x:hidden;position:absolute;right:0}.undo-toast__progress-bar-line[data-v-c2d3db4a]{background:var(--c-transparent-black_400);bottom:0;left:0;position:absolute;top:0;transition:width .3s ease;width:100%}.undo-toast__transition-enter-active[data-v-c2d3db4a],.undo-toast__transition-leave-active[data-v-c2d3db4a]{transition:transform .3s ease-out}.undo-toast__transition-enter[data-v-c2d3db4a],.undo-toast__transition-leave-to[data-v-c2d3db4a]{transform:translateY(200px)}",""]),n.locals={},t.exports=n},1236:function(t,e,o){"use strict";o(946)},1237:function(t,e,o){var n=o(8)((function(i){return i[1]}));n.push([t.i,".collections__main[data-v-c9f8c066]{align-items:stretch;display:flex;flex-flow:column nowrap;gap:8px}.collections__login[data-v-c9f8c066]{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.collections__login .i8-loader[data-v-c9f8c066]{align-self:center;margin:0 auto}.collections__guest-view[data-v-c9f8c066]{align-self:flex-start;cursor:pointer}.collections__list[data-v-c9f8c066]{align-items:stretch;display:flex;flex-flow:column nowrap;gap:8px}.collections__list>*[data-v-c9f8c066]{height:auto;height:var(--collection-card-height,auto);width:auto;width:var(--collection-card-width,auto)}.collections__list-transitions-enter-active[data-v-c9f8c066],.collections__list-transitions-leave-active[data-v-c9f8c066]{transition:all .3s}.collections__list-transitions-enter[data-v-c9f8c066]:not(.tutorial-card),.collections__list-transitions-leave-to[data-v-c9f8c066]:not(.tutorial-card){transform:translateX(-296px)}.collections__list-transitions-move[data-v-c9f8c066]{transition:transform .3s}.collections__new-collection-btn[data-v-c9f8c066]{--button-background:var(--c-white);--button-background-color-hover:var(--c-black_100);--button-background-color-active:var(--c-black_200);z-index:2}",""]),n.locals={},t.exports=n},1717:function(t,e,o){"use strict";o.r(e);o(4);var n=o(33),r=o(12),l=o(767),c=o(10),d={name:"CollectionCardContainer"},f=(o(1216),o(6)),h={name:"CollectionCard",components:{CollectionCardContainer:Object(f.a)(d,(function(){return(0,this._self._c)("div",{staticClass:"collection-card-container"},[this._t("default")],2)}),[],!1,null,"2b365e26",null).exports},props:{active:{type:Boolean,default:!1}}},v=(o(1218),Object(f.a)(h,(function(){var t=this;return(0,t._self._c)("div",{class:["collection__card",{collection__card_active:t.active}]},[t._t("default")],2)}),[],!1,null,"0289935a",null).exports),_=o(858),m={name:"DNDAction"},C=(o(1220),Object(f.a)(m,(function(){var t=this,e=t._self._c;return e("div",t._g({staticClass:"dnd-action"},t.$listeners),[e("div",{staticClass:"icon-container",domProps:{innerHTML:t._s(t.$icons.upload)}}),t._v(" "),e("span",[t._t("default",(function(){return[t._v("Action")]}))],2)])}),[],!1,null,"c60bb0c2",null).exports),x={name:"CollectionDNDWrapper",components:{DNDZone:_.a,DNDAction:C},props:{collection:{type:Object,required:!0}},data:()=>({isDragging:!1,uploadProgress:0,dragSource:null}),computed:{progressBarStyle(){return{width:`${this.uploadProgress}%`}},dragText(){return"internal"===this.dragSource?this.$t("ICON.COMPONENTS.LEFT_SIDEBAR.ADD_TO_COLLECTION"):this.$t("ICON.COMPONENTS.LEFT_SIDEBAR.DROP_FILE_TO_UPLOAD")}},inject:["setUploadErrors"],methods:{...Object(r.b)({uploadIcons:"collections/addIconsToCollection"}),handleDragging(t){this.isDragging=t},handleEnter(source){this.dragSource=source},handleUpload(t){t.length&&this.uploadIcons({collectionId:this.collection.id,icons:t,onUploadProgress:t=>{this.uploadProgress=Math.round(100*t.loaded/t.total),100===this.uploadProgress&&setTimeout((()=>{this.uploadProgress=0}),100)}}).catch((t=>{console.error(t)}))}}},w=(o(1222),Object(f.a)(x,(function(){var t=this,e=t._self._c;return e("DNDZone",{staticClass:"collection-dnd-wrapper",attrs:{"collection-icons":t.collection.icons},on:{"dnd-dragging":t.handleDragging,"dnd-enter":t.handleEnter,"dnd-upload":t.handleUpload}},[e("div",{staticClass:"progress-bar",style:t.progressBarStyle}),t._v(" "),t.isDragging?e("DNDAction",{staticClass:"dnd-container"},[t._v("\n    "+t._s(t.dragText)+"\n  ")]):e("div",{staticClass:"collection-info-wrapper"},[t._t("default")],2)],1)}),[],!1,null,"6d0f1119",null).exports),y=o(70),T={name:"AddNotification"},I=(o(1224),Object(f.a)(T,(function(){var t=this;return(0,t._self._c)("div",{staticClass:"icon-add-notification"},[t._t("default",(function(){return[t._v("\n    +1\n  ")]}))],2)}),[],!1,null,"f012b784",null).exports),O=o(37);var N={name:"CollectionInfo",components:{AddNotification:I,AppIcon:y.a},props:{collection:{type:Object,required:!0},creating:{type:Boolean,default:!1}},data:()=>({hover:!1,numOfIconsToShow:5,isAddNotificationShown:!1,editedName:""}),computed:{iconsToShow(){return this.numOfIconsToShow?this.collection.icons.slice(-this.numOfIconsToShow).reverse():[]},collectionName(){return Object(O.h)(this,this.collection)}},watch:{collection(t,e){t.iconsTotal===e.iconsTotal+1&&this.showAddNotification()},creating:{handler(t,e){t&&!e&&this.$nextTick((()=>{this.$refs.collectionNameInput.focus()}))}}},mounted(){this.numOfIconsToShow=function(t){const e=t.clientWidth-parseInt(window.getComputedStyle(t).getPropertyValue("padding-left").slice(0,-2));return Math.ceil(e/40)}(this.$el)},methods:{...Object(r.b)("collections",["renameCollection"]),showAddNotification(){this.isAddNotificationShown=!0,setTimeout((()=>{this.isAddNotificationShown=!1}),500)},async editName(){this.editedName&&await this.renameCollection({collectionId:this.collection.id,name:this.editedName}),this.editedName="",this.$emit("created")},rejectCreation(){this.editedName="",this.$emit("rejectCreation")}}},D=(o(1226),Object(f.a)(N,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"collection-info",on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[t.iconsToShow&&t.iconsToShow.length?e("div",{staticClass:"icons"},t._l(t.iconsToShow,(function(t,o){return e("div",{key:`collection-${t.id}${o}`,staticClass:"icon-container",attrs:{id:o}},[e("AppIcon",{attrs:{icon:t,"custom-size":24,lazy:!0}})],1)})),0):t._e(),t._v(" "),e("div",{staticClass:"info"},[t.creating?e("input",{directives:[{name:"model",rawName:"v-model",value:t.editedName,expression:"editedName"}],ref:"collectionNameInput",staticClass:"name",attrs:{maxlength:"30",placeholder:t.$t("ICON.COMPONENTS.LEFT_SIDEBAR.NEW_COLLECTION_PLACEHOLDER")},domProps:{value:t.editedName},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.rejectCreation()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editName()}],blur:function(e){return t.editName()},input:function(e){e.target.composing||(t.editedName=e.target.value)}}}):[e("span",{staticClass:"name"},[t._v(t._s(t.collectionName))]),t._v(" "),e("div",{staticClass:"info-right"},[e("div",{staticClass:"icons-count"},[t._v("\n          "+t._s(t.collection.iconsTotal)+"\n        ")]),t._v(" "),e("transition",{attrs:{name:"add"}},[t.isAddNotificationShown?e("AddNotification",{staticClass:"add-notification"}):t._e()],1)],1)]],2)])}),[],!1,null,"3bd81d66",null).exports),E=o(16),L={name:"CreateCollectionCard",components:{I8Button:E.I8Button}},k=(o(1228),Object(f.a)(L,(function(){var t=this,e=t._self._c;return e("I8Button",{staticClass:"create-collection",attrs:{size:"large"},on:{click:function(e){return t.$emit("createCollection")}}},[e("div",{staticClass:"plus-icon",domProps:{innerHTML:t._s(t.$icons.plusRounded)}}),t._v("\n  "+t._s(t.$t("ICON.COMPONENTS.LEFT_SIDEBAR.CREATE_COLLECTION"))+"\n")])}),[],!1,null,"6334176e",null).exports),A={name:"CreateCollectionDNDCard",components:{DNDAction:C}},U=Object(f.a)(A,(function(){return(0,this._self._c)("DNDAction",{attrs:{icon:"plus"}},[this._v("\n  Create collection\n")])}),[],!1,null,null,null).exports,S={name:"CreateCollectionCardDNDWrapper",components:{DNDZone:_.a,CreateCollectionCard:k,CreateCollectionDNDCard:U},data:()=>({isDragging:!1}),methods:{...Object(r.b)({createCollection:"collections/addCollection"}),handleDragging(t){this.isDragging=t},handleUpload(t){t.length&&this.createCollection({icons:t}).catch((t=>{console.error(t)}))}}},M=(o(1230),Object(f.a)(S,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"create-collection-card-dnd-wrapper"},[e("DNDZone",{staticClass:"collection-dnd-wrapper",on:{"dnd-dragging":t.handleDragging,"dnd-upload":t.handleUpload}},[t.isDragging?e("CreateCollectionDNDCard",{staticClass:"dnd-container"}):e("CreateCollectionCard",{on:{createCollection:function(e){return t.$emit("create")}}})],1)],1)}),[],!1,null,"3f476778",null).exports),P=o(923),j={name:"TutorialCards",components:{I8Icon:E.I8Icon},props:{type:{type:String,default:"createCollections",validator:t=>["createCollections","createFont","uploadAndStore"].includes(t)}}},$=(o(1232),Object(f.a)(j,(function(){var t=this,e=t._self._c;return"createCollections"===t.type?e("div",{staticClass:"tutorial-card"},[e("I8Icon",{staticClass:"tutorial-card__icon tutorial-card__icon_plus",attrs:{family:"simpleSmall",icon:"plus"}}),t._v("\n  "+t._s(t.$t("ICON.COMPONENTS.COLLECTIONS.TUTORIAL.CREATE_COLLECTIONS"))+"\n")],1):"createFont"===t.type?e("div",{staticClass:"tutorial-card"},[e("div",{staticClass:"tutorial-card__icon",domProps:{innerHTML:t._s(t.$icons.textUpperLower)}}),t._v("\n  "+t._s(t.$t("ICON.COMPONENTS.COLLECTIONS.TUTORIAL.CREATE_ICON_FONT"))+"\n")]):"uploadAndStore"===t.type?e("div",{staticClass:"tutorial-card"},[e("div",{staticClass:"tutorial-card__icon",domProps:{innerHTML:t._s(t.$icons.folderOutlined)}}),t._v("\n  "+t._s(t.$t("ICON.COMPONENTS.COLLECTIONS.TUTORIAL.UPLOAD_AND_STORE"))+"\n")]):t._e()}),[],!1,null,"cb1ccc16",null).exports),B={name:"UndoToast",components:{Portal:o(47).a,I8Button:E.I8Button,I8Icon:E.I8Icon},props:{shownKey:{required:!0},duration:{type:Number,default:7e3}},data:()=>({timerId:void 0,percentTime:100}),watch:{shownKey:{immediate:!0,handler(t,e){t&&!e?(this.stopProgressBar(),this.startProgressBar()):!t&&e&&this.stopProgressBar()}}},beforeDestroy(){this.timerId&&clearInterval(this.timerId)},methods:{undo(){this.stopProgressBar(),this.$emit("undo")},startProgressBar(){const t=this.duration/100;this.timerId=setInterval((()=>{this.setProgress()}),t)},stopProgressBar(){this.timerId&&(clearInterval(this.timerId),this.timerId=void 0),this.percentTime=100},setProgress(){this.percentTime<=0?(this.stopProgressBar(),this.$emit("confirmed")):(this.updateProgressBar(),this.percentTime-=1)},updateProgressBar(){this.$refs.progressBarLine?this.$refs.progressBarLine.style.width=`${this.percentTime}%`:console.warn("Could not find progress bar element of Undo toast")}}},z=(o(1234),Object(f.a)(B,(function(){var t=this,e=t._self._c;return e("Portal",[e("transition",{attrs:{name:"undo-toast__transition"}},[t.shownKey?e("div",{staticClass:"undo-toast"},[e("div",{staticClass:"undo-toast__content"},[e("I8Icon",{staticClass:"undo-toast__icon",attrs:{family:"materialOutline",icon:"info"}}),t._v(" "),e("div",{staticClass:"undo-toast__text"},[t._t("default",(function(){return[t._v("\n            "+t._s("undo toast text")+"\n          ")]}))],2),t._v(" "),e("I8Button",{staticClass:"undo-toast__btn",attrs:{type:"text"},on:{click:t.undo}},[t._v("\n          "+t._s(t.$t("ICON.COMPONENTS.COLLECTIONS.PAGE.TOASTS.UNDO"))+"\n        ")]),t._v(" "),e("div",{staticClass:"undo-toast__progress-bar"},[e("div",{ref:"progressBarLine",staticClass:"undo-toast__progress-bar-line"})])],1)]):t._e()])],1)}),[],!1,null,"c2d3db4a",null).exports),R=o(283),H={name:"CollectionsList",components:{UndoToast:z,TutorialCard:$,CreateCollectionCardDNDWrapper:M,CreateCollectionCard:k,CollectionDNDWrapper:w,CollectionInfo:D,CollectionCard:v,CollectionUploadErrorToast:P.a,LeftSidebarCardLoader:R.a},provide(){return{setUploadErrors:this.setUploadErrors}},data:()=>({uploadErrors:[],creatingCollectionId:void 0,enabledTutorials:["createCollections","createFont","uploadAndStore"],debouncedCreateCollection:()=>{}}),computed:{...Object(r.e)({collections:t=>t.collections.collections,areCollectionsLoaded:t=>t.collections.areCollectionsLoaded,areCollectionsLoading:t=>t.collections.areCollectionsLoading,deletedCollectionId:t=>t.collections.simulatedDeletedCollectionId,user:t=>t.auth.user,baseColor:t=>t.color}),currentCollectionId(){const{collectionId:t}=this.$route.params;return null==t?void 0:t.split("--")[0]},hasUploadErrors(){return Boolean(this.uploadErrors.length)}},watch:{"user.isGuest":{immediate:!0,handler(t,e){!t&&e&&this.getCollections()}}},async mounted(){window.addEventListener("beforeunload",this.unloadHandler),this.areCollectionsLoaded||!this.user.loaded||this.user.isGuest||await this.getCollections(),this.debouncedCreateCollection=Object(c.debounce)(this.startCollectionCreate,300)},beforeDestroy(){window.removeEventListener("beforeunload",this.unloadHandler),this.unloadHandler()},methods:{...Object(r.b)("collections",["addCollection","getCollections","cancelDeleteCollection","deleteCollection"]),openCollection(t){setTimeout((()=>{this.$router.push(Object(n.a)(this.$store).createCollectionURL({fullPath:this.$route.fullPath,color:this.baseColor.code||this.baseColor.value,request:t}))}),50)},handleCloseToast(){this.uploadErrors=[]},setUploadErrors(t){this.uploadErrors=t},async startCollectionCreate(){this.creatingCollectionId||(this.creatingCollectionId=(await this.addCollection({})).id)},stopCollectionCreate(){setTimeout((()=>{this.creatingCollectionId=void 0}),300)},async rejectCreation(){this.creatingCollectionId&&await this.deleteCollection({id:this.creatingCollectionId,resetSimulation:!1}),this.stopCollectionCreate()},login(){Object(l.h)()},async unloadHandler(){this.deletedCollectionId&&await this.deleteCollection({id:this.deletedCollectionId,keepAlive:!0})},confirmCollectionDelete(){this.deletedCollectionId&&this.deleteCollection({id:this.deletedCollectionId,resetSimulation:!0})}}},F=(o(1236),Object(f.a)(H,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"collections"},[t.areCollectionsLoading?e("div",{staticClass:"collections__list"},t._l(4,(function(t){return e("LeftSidebarCardLoader",{key:t})})),1):t.user.loaded&&t.user.isGuest?e("div",{staticClass:"collections__login"},[e("div",{staticClass:"collections__list collections__guest-view",on:{click:function(e){return e.stopPropagation(),t.login.apply(null,arguments)}}},[e("CreateCollectionCard"),t._v(" "),t._l(t.enabledTutorials,(function(t){return e("TutorialCard",{key:"tutorial-"+t,attrs:{type:t}})}))],2)]):t.areCollectionsLoaded?e("div",{staticClass:"collections__main"},[e("transition-group",{staticClass:"collections__list",attrs:{tag:"div",name:"collections__list-transitions"}},[e("CreateCollectionCardDNDWrapper",{key:"newCollectionBtn",staticClass:"collections__new-collection-btn",on:{create:function(e){return t.debouncedCreateCollection()}}}),t._v(" "),t._l(t.collections,(function(o){return[o.id!==t.deletedCollectionId?e("CollectionCard",{key:o.id,attrs:{active:t.currentCollectionId===o.id},nativeOn:{click:function(e){return t.openCollection(o.id)}}},[o.isDownloaded?[e("CollectionInfo",{attrs:{collection:o,creating:t.creatingCollectionId===o.id},on:{created:t.stopCollectionCreate,rejectCreation:t.rejectCreation}})]:e("CollectionDNDWrapper",{attrs:{collection:o}},[e("CollectionInfo",{attrs:{collection:o,creating:t.creatingCollectionId===o.id},on:{created:t.stopCollectionCreate,rejectCreation:t.rejectCreation}})],1)],2):t._e()]})),t._v(" "),t._l(t.enabledTutorials,(function(o){return[t.areCollectionsLoaded&&(t.collections.length<=2||t.deletedCollectionId&&3===t.collections.length)?e("TutorialCard",{key:"tutorial-"+o,attrs:{type:o}}):t._e()]}))],2),t._v(" "),e("CollectionUploadErrorToast",{attrs:{"is-show":t.hasUploadErrors,delay:5e3},on:{close:t.handleCloseToast}},t._l(t.uploadErrors,(function(o,n){return e("p",{key:n},[t._v("\n        "+t._s(o)+"\n      ")])})),0),t._v(" "),e("UndoToast",{attrs:{"shown-key":t.deletedCollectionId},on:{undo:t.cancelDeleteCollection,confirmed:t.confirmCollectionDelete}},[t._v("\n      "+t._s(t.$t("ICON.COMPONENTS.COLLECTIONS.PAGE.TOASTS.COLLECTION_DELETED"))+"\n    ")])],1):t._e()])}),[],!1,null,"c9f8c066",null));e.default=F.exports},767:function(t,e,o){"use strict";o.d(e,"a",(function(){return h})),o.d(e,"d",(function(){return v})),o.d(e,"h",(function(){return m})),o.d(e,"f",(function(){return C})),o.d(e,"e",(function(){return w})),o.d(e,"i",(function(){return y})),o.d(e,"g",(function(){return T})),o.d(e,"b",(function(){return I})),o.d(e,"c",(function(){return O}));var n=o(20),r=o.n(n),l=o(87),c=o(768);const d=Object(l.b)(),f=()=>o.e(87).then(o.t.bind(null,1731,7)),h={OPEN:"i8-auth-modal:open",ENSURE_LOGIN:"i8-auth-modal:ensure-login"},v={all:_=_||new Map,on:function(t,e){var i=_.get(t);i?i.push(e):_.set(t,[e])},off:function(t,e){var i=_.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):_.set(t,[]))},emit:function(t,e){var i=_.get(t);i&&i.slice().map((function(t){t(e)})),(i=_.get("*"))&&i.slice().map((function(o){o(t,e)}))}};var _;function m(){v.emit(h.OPEN)}function C(t,e){void 0===e&&(e={}),v.emit(h.ENSURE_LOGIN,{callback:t,options:e})}let x=!1;async function w(t,e){if(x)return;x=!0;const{setBaseURL:o,AuthModuleImplementation:n,loadTranslations:r}=await f();r(e.locale),o("https://auth.icons8.com/api/auth/v1");(await n.get()).bindStore(t)}function y(t,e){if("undefined"!=typeof window&&"GTMDataLayer"in window&&window.GTMDataLayer.push({event:t}),d&&"registration"===t&&e){let t="icon";"landings"!==t&&"icon"!==t||(t="Icons"),r.a.get("https://n8n.icons8.com/webhook/fd78bee7-e230-49a7-9ccc-55e3c954f527",{params:{email:e.email,product:t}})}}const T=d?c.production:c.default,I=()=>f().then((t=>t.I8AuthForm)),O=()=>f().then((t=>t.I8PasswordResetForm))},768:function(t){t.exports=JSON.parse('{"default":{"AUTH_REDIRECT_URI":"https://api-icons-stage.icons8.com/auth/v1/socials-callback","AUTH_FACEBOOK_CLIENT_ID":"496747381171808","AUTH_FACEBOOK_URL":"https://www.facebook.com/v6.0/dialog/oauth","AUTH_GITHUB_CLIENT_ID":"19f839086b955db0bf2f","AUTH_GITHUB_URL":"https://github.com/login/oauth/authorize","AUTH_GOOGLE_CLIENT_ID":"574833888516-i8s6kb1mha2r5saa5gu6gbt5hnh3g36u.apps.googleusercontent.com","AUTH_GOOGLE_URL":"https://accounts.google.com/o/oauth2/v2/auth","AUTH_MICROSOFT_CLIENT_ID":"059d71f7-f349-4155-8f21-9247f82c4c57","AUTH_MICROSOFT_URL":"https://login.microsoftonline.com/common/oauth2/v2.0/authorize"},"production":{"AUTH_REDIRECT_URI":"https://api-icons.icons8.com/auth/v1/socials-callback","AUTH_FACEBOOK_CLIENT_ID":"496747381171808","AUTH_FACEBOOK_URL":"https://www.facebook.com/v6.0/dialog/oauth","AUTH_GITHUB_CLIENT_ID":"08ad24fe60ec12be209d","AUTH_GITHUB_URL":"https://github.com/login/oauth/authorize","AUTH_GOOGLE_CLIENT_ID":"574833888516-i8s6kb1mha2r5saa5gu6gbt5hnh3g36u.apps.googleusercontent.com","AUTH_GOOGLE_URL":"https://accounts.google.com/o/oauth2/v2/auth","AUTH_MICROSOFT_CLIENT_ID":"059d71f7-f349-4155-8f21-9247f82c4c57","AUTH_MICROSOFT_URL":"https://login.microsoftonline.com/common/oauth2/v2.0/authorize"}}')},825:function(t,e,o){var content=o(869);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(9).default)("0d63c21e",content,!0,{sourceMap:!1})},826:function(t,e,o){var content=o(871);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(9).default)("34c741bb",content,!0,{sourceMap:!1})},858:function(t,e,o){"use strict";function n(t){if(!/\.svg$/.test(t.name))throw new Error(`File ${t.name} must be SVG.`);if(t.size>102400)throw new Error(`File ${t.name} must be less than 100 KB.`);return!0}function r(t){return new Promise(((e,o)=>{const n=new FileReader;n.onload=()=>{e(n.result)},n.onerror=o,n.readAsText(t)}))}var l={name:"DNDZone",props:{collectionIcons:{type:Array,default:()=>[]}},data:()=>({ready:!0,isDragging:!1,errors:[]}),inject:["setUploadErrors"],watch:{isDragging(t){this.$emit("dnd-dragging",t)}},methods:{containsFiles(t){if(t.dataTransfer.types)for(var i=0;i<t.dataTransfer.types.length;i++)if("Files"===t.dataTransfer.types[i])return!0;return!1},handleDragenter(t){this.isDragging=!0;const source=this.containsFiles(t)?"external":"internal";this.$emit("dnd-enter",source)},handleDragleave(){this.isDragging=!1},async handleDrop(t){let{dataTransfer:e}=t;this.isDragging=!1;let o=[];const n=e.getData("text/plain");if(e.files.length&&!n)o=await this.getUserIcons(e.files);else try{const t=JSON.parse(n);this.collectionIcons.every((e=>e.id!==t.icon.id))&&o.push(t.icon)}catch(t){}this.$emit("dnd-upload",o)},async getUserIcons(t){this.errors=[];const e=[];for(let i=0;i<t.length;i++){const l=t[i];try{n(l)&&e.push({name:(o=l.name,o.split(".").slice(0,-1).join(".")),svg:await r(l),isUserSource:!0})}catch(t){t.message&&this.errors.push(t.message),console.error(t)}}var o;return this.errors.length&&this.setUploadErrors(this.errors),e}}},c=(o(868),o(6)),component=Object(c.a)(l,(function(){var t=this;return(0,t._self._c)("div",{staticClass:"dnd-zone",class:{"is-dragging":t.isDragging},on:{dragover:function(t){t.preventDefault()},dragenter:function(e){return e.preventDefault(),t.handleDragenter.apply(null,arguments)},dragleave:function(e){return e.preventDefault(),t.handleDragleave.apply(null,arguments)},drop:function(e){return e.preventDefault(),e.stopPropagation(),t.handleDrop.apply(null,arguments)}}},[t._t("default")],2)}),[],!1,null,"36e02515",null);e.a=component.exports},868:function(t,e,o){"use strict";o(825)},869:function(t,e,o){var n=o(8)((function(i){return i[1]}));n.push([t.i,".dnd-zone[data-v-36e02515]{height:100%}",""]),n.locals={},t.exports=n},870:function(t,e,o){"use strict";o(826)},871:function(t,e,o){var n=o(8)((function(i){return i[1]}));n.push([t.i,".fade-enter-active[data-v-2ea46ebc],.fade-leave-active[data-v-2ea46ebc]{transition:all;transition-duration:.2s}.fade-leave-active[data-v-2ea46ebc]{opacity:0;transition-duration:.15s;transition-timing-function:linear}.fade-enter[data-v-2ea46ebc]{opacity:0;transform:translateY(20px)}.collection-upload-error-toast[data-v-2ea46ebc]{background-color:#ff5840;border-radius:8px;bottom:24px;box-shadow:0 8px 32px rgba(0,0,0,.16);color:#fff;left:calc(50% - 160px);padding:16px 32px 16px 16px;position:fixed;width:320px;z-index:1000}.collection-upload-error-toast .close-toast[data-v-2ea46ebc]{background-color:transparent;border:none;cursor:pointer;height:24px;opacity:.5;padding:0;position:absolute;right:10px;top:10px;width:24px;z-index:1}.collection-upload-error-toast .close-toast[data-v-2ea46ebc] svg{fill:#fff;display:inline-block;height:16px;width:16px}.collection-upload-error-toast .close-toast[data-v-2ea46ebc]:hover{opacity:1}.collection-upload-error-toast .toast-body[data-v-2ea46ebc]{display:flex}.collection-upload-error-toast .icon[data-v-2ea46ebc]{flex-shrink:0;height:24px;margin-right:16px;width:24px}.collection-upload-error-toast .icon[data-v-2ea46ebc] svg{display:block}.collection-upload-error-toast .title[data-v-2ea46ebc]{flex-shrink:1;font-size:16px;font-weight:600;line-height:20px;margin-bottom:6px}.collection-upload-error-toast .text[data-v-2ea46ebc]{font-size:14px;font-weight:600;line-height:20px;opacity:.8;word-break:break-word}",""]),n.locals={},t.exports=n},923:function(t,e,o){"use strict";var n={name:"CollectionUploadErrorToast",props:{isShow:{type:Boolean,default:!1},delay:{type:Number,default:0}},data:()=>({timer:null}),watch:{isShow(t){t&&this.initDelay()}},beforeDestroy(){this.clearTimer()},methods:{initDelay(){this.delay&&(this.timer=setTimeout((()=>{this.close()}),this.delay))},clearTimer(){this.timer&&clearTimeout(this.timer)},close(){this.$emit("close"),this.clearTimer()}}},r=(o(870),o(6)),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade"}},[t.isShow?e("div",{staticClass:"collection-upload-error-toast"},[e("button",{staticClass:"close-toast",domProps:{innerHTML:t._s(t.$icons.cancel)},on:{click:function(e){return e.preventDefault(),t.close.apply(null,arguments)}}}),t._v(" "),e("div",{staticClass:"toast-body"},[e("div",{staticClass:"icon",domProps:{innerHTML:t._s(t.$icons.warn)}}),t._v(" "),e("div",{staticClass:"text"},[e("div",{staticClass:"title"},[t._v("\n          Wrong file\n        ")]),t._v(" "),t._t("default")],2)])]):t._e()])}),[],!1,null,"2ea46ebc",null);e.a=component.exports},936:function(t,e,o){var content=o(1217);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(9).default)("29a30d86",content,!0,{sourceMap:!1})},937:function(t,e,o){var content=o(1219);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(9).default)("6874207f",content,!0,{sourceMap:!1})},938:function(t,e,o){var content=o(1221);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(9).default)("fb3bb8ce",content,!0,{sourceMap:!1})},939:function(t,e,o){var content=o(1223);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(9).default)("c44c1e24",content,!0,{sourceMap:!1})},940:function(t,e,o){var content=o(1225);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(9).default)("6ce21022",content,!0,{sourceMap:!1})},941:function(t,e,o){var content=o(1227);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(9).default)("39c018ce",content,!0,{sourceMap:!1})},942:function(t,e,o){var content=o(1229);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(9).default)("0bb86a3e",content,!0,{sourceMap:!1})},943:function(t,e,o){var content=o(1231);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(9).default)("919f74ea",content,!0,{sourceMap:!1})},944:function(t,e,o){var content=o(1233);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(9).default)("2802db12",content,!0,{sourceMap:!1})},945:function(t,e,o){var content=o(1235);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(9).default)("216ae9c8",content,!0,{sourceMap:!1})},946:function(t,e,o){var content=o(1237);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(9).default)("1bd24aa2",content,!0,{sourceMap:!1})}}]);
//# sourceMappingURL=CollectionsList.8d918c9ba1f931c05766.js.map